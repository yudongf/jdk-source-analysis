<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="generator" content="Asciidoctor 2.0.10">
<title>Collection</title>
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Open+Sans:300,300italic,400,400italic,600,600italic%7CNoto+Serif:400,400italic,700,700italic%7CDroid+Sans+Mono:400,700">
<link rel="stylesheet" href="assets/css/asciidoctor.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
<style>p>code{color: #d14 !important;background-color: #f5f5f5 !important;border: 1px solid #e1e1e8;white-space: nowrap;border-radius: 3px;}</style>
</head>
<body class="book toc2 toc-left">
<div id="header">
<div id="toc" class="toc2">
<div id="toctitle">Table of Contents</div>
<ul class="sectlevel1">
<li><a href="#_collection">1. Collection</a></li>
</ul>
</div>
</div>
<div id="content">
<div class="sect1">
<h2 id="_collection"><a class="anchor" href="#_collection"></a>1. Collection</h2>
<div class="sectionbody">
<div class="paragraph">
<p>有一个问题，我们思考一下：如果让你设计 JDK 集合框架，你会怎么设计？说的更具体一些，现在需要一个可以包含重复对象的 <code>Aggregation</code> 集合，请问怎么设计？</p>
</div>
<div class="paragraph">
<p>可以先设想一下，有哪些操作？</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>添加元素 <code>add()</code></p>
</li>
<li>
<p>删除元素 <code>remove()</code></p>
</li>
<li>
<p>是否包含元素 <code>boolean contain(Element e)</code></p>
</li>
<li>
<p>列表大小 <code>int size()</code></p>
</li>
<li>
<p>添加整个 <code>Bag</code> 元素 <code>addAll(Aggregation aggregation)</code></p>
</li>
<li>
<p>清空 <code>clear()</code></p>
</li>
<li>
<p>迭代器 <code>Iterator&lt;T&gt; iterator()</code></p>
</li>
<li>
<p>和数组互操作： <code>toArray()</code> 和 <code>addAll(T[] array)</code></p>
</li>
</ol>
</div>
<div class="listingblock">
<div class="title">java.util.Collection</div>
<div class="content">
<pre class="highlight"><code class="language-java" data-lang="java">public interface Collection&lt;E&gt; extends Iterable&lt;E&gt; {
    // Query Operations

    int size();

    boolean isEmpty();

    boolean contains(Object o);

    Iterator&lt;E&gt; iterator();

    Object[] toArray();

    &lt;T&gt; T[] toArray(T[] a);

    // Modification Operations

    boolean add(E e);

    boolean remove(Object o);


    // Bulk Operations

    boolean containsAll(Collection&lt;?&gt; c);

    boolean addAll(Collection&lt;? extends E&gt; c);

    boolean removeAll(Collection&lt;?&gt; c);

    /**
     * @since 1.8
     */
    default boolean removeIf(Predicate&lt;? super E&gt; filter) {
        Objects.requireNonNull(filter);
        boolean removed = false;
        final Iterator&lt;E&gt; each = iterator();
        while (each.hasNext()) {
            if (filter.test(each.next())) {
                each.remove();
                removed = true;
            }
        }
        return removed;
    }

    boolean retainAll(Collection&lt;?&gt; c);

    void clear();


    // Comparison and hashing

    boolean equals(Object o);

    int hashCode();

    /**
     * @since 1.8
     */
    @Override
    default Spliterator&lt;E&gt; spliterator() {
        return Spliterators.spliterator(this, 0);
    }

    /**
     * @since 1.8
     */
    default Stream&lt;E&gt; stream() {
        return StreamSupport.stream(spliterator(), false);
    }

    /**
     * @since 1.8
     */
    default Stream&lt;E&gt; parallelStream() {
        return StreamSupport.stream(spliterator(), true);
    }
}</code></pre>
</div>
</div>
</div>
</div>
</div>
<div id="footer">
<div id="footer-text">
Last updated 2020-04-22 16:35:14 +0800
</div>
</div>
</body>
</html>